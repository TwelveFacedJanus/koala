\doxysection{core/types.c File Reference}
\hypertarget{types_8c}{}\label{types_8c}\index{core/types.c@{core/types.c}}
{\ttfamily \#include "{}types.\+h"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
Include dependency graph for types.\+c\+:
% FIG 0
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{types_8c_a23864e11484aca063fa48537ce48c047}{result\+\_\+free}} (\mbox{\hyperlink{struct_result}{Result}} \texorpdfstring{$\ast$}{*}r)
\begin{DoxyCompactList}\small\item\em Освобождает ресурсы, связанные с \doxylink{struct_result}{Result} (C). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{types_8c_af9008be1931af48f08a85957cb3e2d39}{function\+\_\+params\+\_\+free}} (\mbox{\hyperlink{struct_function_params}{Function\+Params}} \texorpdfstring{$\ast$}{*}p)
\begin{DoxyCompactList}\small\item\em Освобождает ресурсы, связанные с \doxylink{struct_function_params}{Function\+Params} (C). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{types_8c_a8c5d4a6d10f02803638f982c3b567ccb}{function\+\_\+pipeline\+\_\+free}} (\mbox{\hyperlink{struct_function_pipeline}{Function\+Pipeline}} \texorpdfstring{$\ast$}{*}fp)
\begin{DoxyCompactList}\small\item\em Освобождает всю цепочку \doxylink{struct_function_pipeline}{Function\+Pipeline} (C). \end{DoxyCompactList}\item 
int \mbox{\hyperlink{types_8c_ab347e09152d07525622b731e0df0cc6b}{function\+\_\+pipeline\+\_\+validate}} (\mbox{\hyperlink{struct_function_pipeline}{Function\+Pipeline}} \texorpdfstring{$\ast$}{*}head)
\begin{DoxyCompactList}\small\item\em Проверить корректность цепочки \doxylink{struct_function_pipeline}{Function\+Pipeline} (нет циклов, все func != NULL) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{types_8c_af9008be1931af48f08a85957cb3e2d39}\index{types.c@{types.c}!function\_params\_free@{function\_params\_free}}
\index{function\_params\_free@{function\_params\_free}!types.c@{types.c}}
\doxysubsubsection{\texorpdfstring{function\_params\_free()}{function\_params\_free()}}
{\footnotesize\ttfamily \label{types_8c_af9008be1931af48f08a85957cb3e2d39} 
void function\+\_\+params\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_function_params}{Function\+Params}} \texorpdfstring{$\ast$}{*}}]{p}{}\end{DoxyParamCaption})}



Освобождает ресурсы, связанные с \doxylink{struct_function_params}{Function\+Params} (C). 

Освобождает argv, если он был выделен динамически. 

Definition at line \mbox{\hyperlink{types_8c_source_l00013}{13}} of file \mbox{\hyperlink{types_8c_source}{types.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordflow}{if}\ (p\ \&\&\ p-\/>\mbox{\hyperlink{struct_function_params_aa928a3634843ca5a3e5469b97efb4787}{argv}})\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Если\ argv\ был\ выделен\ через\ malloc}}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ free(p-\/>\mbox{\hyperlink{struct_function_params_aa928a3634843ca5a3e5469b97efb4787}{argv}});}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ p-\/>\mbox{\hyperlink{struct_function_params_aa928a3634843ca5a3e5469b97efb4787}{argv}}\ =\ NULL;}
\DoxyCodeLine{00018\ \ \ \ \ \}}
\DoxyCodeLine{00019\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{types_8h_source_l00211}{Function\+Params\+::argv}}.

\Hypertarget{types_8c_a8c5d4a6d10f02803638f982c3b567ccb}\index{types.c@{types.c}!function\_pipeline\_free@{function\_pipeline\_free}}
\index{function\_pipeline\_free@{function\_pipeline\_free}!types.c@{types.c}}
\doxysubsubsection{\texorpdfstring{function\_pipeline\_free()}{function\_pipeline\_free()}}
{\footnotesize\ttfamily \label{types_8c_a8c5d4a6d10f02803638f982c3b567ccb} 
void function\+\_\+pipeline\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_function_pipeline}{Function\+Pipeline}} \texorpdfstring{$\ast$}{*}}]{p}{}\end{DoxyParamCaption})}



Освобождает всю цепочку \doxylink{struct_function_pipeline}{Function\+Pipeline} (C). 

Рекурсивно освобождает next. 

Definition at line \mbox{\hyperlink{types_8c_source_l00021}{21}} of file \mbox{\hyperlink{types_8c_source}{types.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{while}\ (fp)\ \{}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_function_pipeline}{FunctionPipeline}}*\ next\ =\ fp-\/>\mbox{\hyperlink{struct_function_pipeline_a33af58396e5a6d72bc1e86bfe624f659}{next}};}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ free(fp);}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ fp\ =\ next;}
\DoxyCodeLine{00026\ \ \ \ \ \}}
\DoxyCodeLine{00027\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{types_8h_source_l00223}{Function\+Pipeline\+::next}}.

\Hypertarget{types_8c_ab347e09152d07525622b731e0df0cc6b}\index{types.c@{types.c}!function\_pipeline\_validate@{function\_pipeline\_validate}}
\index{function\_pipeline\_validate@{function\_pipeline\_validate}!types.c@{types.c}}
\doxysubsubsection{\texorpdfstring{function\_pipeline\_validate()}{function\_pipeline\_validate()}}
{\footnotesize\ttfamily \label{types_8c_ab347e09152d07525622b731e0df0cc6b} 
int function\+\_\+pipeline\+\_\+validate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_function_pipeline}{Function\+Pipeline}} \texorpdfstring{$\ast$}{*}}]{head}{}\end{DoxyParamCaption})}



Проверить корректность цепочки \doxylink{struct_function_pipeline}{Function\+Pipeline} (нет циклов, все func != NULL) 


\begin{DoxyParams}{Parameters}
{\em head} & -\/ начало цепочки \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 если корректна, 0 если есть ошибка 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{types_8c_source_l00029}{29}} of file \mbox{\hyperlink{types_8c_source}{types.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ Проверка\ на\ циклы\ (алгоритм\ Флойда)}}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{struct_function_pipeline}{FunctionPipeline}}*\ slow\ =\ head;}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{struct_function_pipeline}{FunctionPipeline}}*\ fast\ =\ head;}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{while}\ (fast\ \&\&\ fast-\/>\mbox{\hyperlink{struct_function_pipeline_a33af58396e5a6d72bc1e86bfe624f659}{next}})\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!slow-\/>\mbox{\hyperlink{struct_function_pipeline_aff8419f3b667770db719552b8cad63b2}{func}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ slow\ =\ slow-\/>\mbox{\hyperlink{struct_function_pipeline_a33af58396e5a6d72bc1e86bfe624f659}{next}};}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ fast\ =\ fast-\/>\mbox{\hyperlink{struct_function_pipeline_a33af58396e5a6d72bc1e86bfe624f659}{next}}-\/>\mbox{\hyperlink{struct_function_pipeline_a33af58396e5a6d72bc1e86bfe624f659}{next}};}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (slow\ ==\ fast\ \&\&\ slow\ !=\ NULL)\ \textcolor{keywordflow}{return}\ 0;\ \textcolor{comment}{//\ цикл}}
\DoxyCodeLine{00038\ \ \ \ \ \}}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{comment}{//\ Проверка,\ что\ все\ func\ !=\ NULL}}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{while}\ (head)\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!head-\/>\mbox{\hyperlink{struct_function_pipeline_aff8419f3b667770db719552b8cad63b2}{func}})\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ head\ =\ head-\/>\mbox{\hyperlink{struct_function_pipeline_a33af58396e5a6d72bc1e86bfe624f659}{next}};}
\DoxyCodeLine{00043\ \ \ \ \ \}}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00045\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{types_8h_source_l00222}{Function\+Pipeline\+::func}}, and \mbox{\hyperlink{types_8h_source_l00223}{Function\+Pipeline\+::next}}.

\Hypertarget{types_8c_a23864e11484aca063fa48537ce48c047}\index{types.c@{types.c}!result\_free@{result\_free}}
\index{result\_free@{result\_free}!types.c@{types.c}}
\doxysubsubsection{\texorpdfstring{result\_free()}{result\_free()}}
{\footnotesize\ttfamily \label{types_8c_a23864e11484aca063fa48537ce48c047} 
void result\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_result}{Result}} \texorpdfstring{$\ast$}{*}}]{r}{}\end{DoxyParamCaption})}



Освобождает ресурсы, связанные с \doxylink{struct_result}{Result} (C). 

Если ok/err содержит динамический ресурс, освобождает его. 

Definition at line \mbox{\hyperlink{types_8c_source_l00004}{4}} of file \mbox{\hyperlink{types_8c_source}{types.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00004\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00005\ \ \ \ \ \textcolor{comment}{//\ Пользователь\ должен\ явно\ освобождать\ ok/err,\ если\ это\ динамические\ данные}}
\DoxyCodeLine{00006\ \ \ \ \ \textcolor{comment}{//\ Здесь\ можно\ добавить\ кастомную\ логику,\ если\ есть\ поле\ type\ в\ Generic}}
\DoxyCodeLine{00007\ \ \ \ \ \textcolor{comment}{//\ Пример:}}
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{comment}{//\ if\ (r-\/>is\_ok\ \&\&\ r-\/>ok.value)\ free(r-\/>ok.value);}}
\DoxyCodeLine{00009\ \ \ \ \ \textcolor{comment}{//\ else\ if\ (!r-\/>is\_ok\ \&\&\ r-\/>err.value)\ free(r-\/>err.value);}}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{comment}{//\ По\ умолчанию\ ничего\ не\ делаем}}
\DoxyCodeLine{00011\ \}}

\end{DoxyCode}
